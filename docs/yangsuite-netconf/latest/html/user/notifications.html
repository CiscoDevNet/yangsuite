

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Working with NETCONF Notification Streams &mdash; yangsuite-netconf 1.15.1.post0.dev1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using Replays for repeated workflows" href="tasks.html" />
    <link rel="prev" title="Using NETCONF RPCs" href="rpcs.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> yangsuite-netconf
          

          
          </a>

          
            
            
              <div class="version">
                1.15.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Using NETCONF with YANG Suite</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="rpcs.html">Using NETCONF RPCs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Working with NETCONF Notification Streams</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#opening-s-netconf-session">Opening s NETCONF Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="#netconf-rfc-5277-notification-streams">NETCONF RFC 5277 Notification Streams</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tasks.html">Using Replays for repeated workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="lock-unlock.html">Locking and unlocking datastores</a></li>
<li class="toctree-l2"><a class="reference internal" href="enxr.html">Setting Device to ENXR</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">ysnetconf developer documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">yangsuite-netconf</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Using NETCONF with YANG Suite</a> &raquo;</li>
        
      <li>Working with NETCONF Notification Streams</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user/notifications.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="working-with-netconf-notification-streams">
<h1>Working with NETCONF Notification Streams<a class="headerlink" href="#working-with-netconf-notification-streams" title="Permalink to this headline">¶</a></h1>
<p>Notification streams are a mechanism that allows users to recieve data from a
network device when specific events occur. The basic concept is that the user
opens a NETCONF session, subscribes to a notification stream, and waits for
stream events to occur in the open session. When the session is ended, the
stream is no longer active.</p>
<div class="section" id="opening-s-netconf-session">
<h2>Opening s NETCONF Session<a class="headerlink" href="#opening-s-netconf-session" title="Permalink to this headline">¶</a></h2>
<p>To start, you must have an active NETCONF session with the device.
Select the device from the “Devices” dropdown, then click “Open device window”.</p>
<img alt="Screenshot showing a window indicating that the NETCONF session has successfully started." src="../_images/device-window-no-session.png" />
<p>Next, click “Start session” in order to establish an active NETCONF session.</p>
<img alt="Screenshot showing a window indicating that the NETCONF session has successfully started." src="../_images/device-window-with-session.png" />
<p>Cisco devices support <a class="reference external" href="https://tools.ietf.org/html/draft-ietf-netconf-netconf-event-notifications-22">draft-ietf-netconf-netconf-event-notifications</a> (not an official RFC)
using the ietf-event-notifications model.</p>
<p>With the device window open and a session established, you can then construct
NETCONF subscription messages using the ietf-event-notifications model from a
YANG module set (see: “Defining a YANG Module Set). Once you have set values
identifing the stream you wish to recieve events from, click on “Build RPC”
followed by “Run RPC”. The subscription message will be sent through the open
session.</p>
<img alt="Screenshot showing a window with ietf-event-notification module." src="../_images/subscription.png" />
</div>
<div class="section" id="netconf-rfc-5277-notification-streams">
<h2>NETCONF RFC 5277 Notification Streams<a class="headerlink" href="#netconf-rfc-5277-notification-streams" title="Permalink to this headline">¶</a></h2>
<p>YANG Suite also supports <a class="reference external" href="https://tools.ietf.org/html/rfc5277">RFC 5277</a>
(NETCONF Event Notifications) for supported devices.
If your device supports notifications, YANG Suite provides ready-made actions
to list the supported notification event streams or subscribe to a specific
event stream.</p>
<p>To start, you must have an active NETCONF session with the device.
Select the device from the “Devices” dropdown, then click “Open device window”.
Next, click “Start session” in order to establish an active NETCONF session.</p>
<img alt="Screenshot showing a window indicating that the NETCONF session has successfully started." src="../_images/device-window-with-session.png" />
<p>In this window, use the “Actions” menu and select the “get streams” action in
order to automatically send the NETCONF RPC used to query for supported
event streams.</p>
<img alt="Screenshot showing the &quot;Actions&quot; menu, with &quot;get streams&quot; selected." src="../_images/actions-get-streams.png" />
<p>If your device <em>does not</em> support notifications, you will see an error response
from the device, as in the below example:</p>
<img alt="Screenshot showing error reply indicating that the device doesn't support notifications" src="../_images/no-support-notify.png" />
<p>If your device <em>does</em> support notifications, you should receive a success reply
containing a list of the supported event streams, as in the below example,
which shows a device reporting that it supports two streams,
“NETCONF” and “snmpevents”.</p>
<img alt="Screenshot showing success reply listing the event streams supported by the device" src="../_images/support-notify.png" />
<p>You can subscribe to any given event stream by selecting “Subscribe” from the
Actions menu. A dialog box will pop up prompting you to enter the name of the
desired stream.</p>
<img alt="Screenshot showing dialog prompting for stream name" src="../_images/subscribe-notify.png" />
<p>Enter the name of the stream and click “Subscribe”. You should see the
“create-subscription” RPC being sent and acknowledged by the device.</p>
<p>I subscribed to the ‘snmpevents’ event stream and I can see them being
displayed in the window as they happen:</p>
<img alt="Screenshot showing a window with the events from the subscribed stream" src="../_images/notify-events.png" />
<p>Currently the only supported way to stop an event stream subscription is to
close the NETCONF session to the device, either by clicking “End Session”
or by closing the session window altogether.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tasks.html" class="btn btn-neutral float-right" title="Using Replays for repeated workflows" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="rpcs.html" class="btn btn-neutral" title="Using NETCONF RPCs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, YANG Suite development team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.15.1.post0.dev1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>