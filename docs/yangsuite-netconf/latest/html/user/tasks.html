

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using Replays for repeated workflows &mdash; yangsuite-netconf 1.15.1.post0.dev1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Locking and unlocking datastores" href="lock-unlock.html" />
    <link rel="prev" title="Working with NETCONF Notification Streams" href="notifications.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> yangsuite-netconf
          

          
          </a>

          
            
            
              <div class="version">
                1.15.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Using NETCONF with YANG Suite</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="rpcs.html">Using NETCONF RPCs</a></li>
<li class="toctree-l2"><a class="reference internal" href="notifications.html">Working with NETCONF Notification Streams</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using Replays for repeated workflows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-replays">Creating Replays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#saving-replays-with-variables">Saving Replays with Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loading-and-editing-saved-replays">Loading and Editing Saved Replays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-replays">Running Replays</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lock-unlock.html">Locking and unlocking datastores</a></li>
<li class="toctree-l2"><a class="reference internal" href="enxr.html">Setting Device to ENXR</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">ysnetconf developer documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">yangsuite-netconf</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Using NETCONF with YANG Suite</a> &raquo;</li>
        
      <li>Using Replays for repeated workflows</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user/tasks.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-replays-for-repeated-workflows">
<h1>Using Replays for repeated workflows<a class="headerlink" href="#using-replays-for-repeated-workflows" title="Permalink to this headline">¶</a></h1>
<p>You can make use of the “Replay” functionality to save and run certain RPC
commands without having to go through the RPC construction process every time.</p>
<p>First establish where you want your replays stored.  You may have some existing
replays already located on the file system that YANG Suite is installed on, or,
maybe you are working out of a source control workspace and you want these
replays shared with others and you plan on checking them in. The default
location is in the “data” directory that you first configured when you
installed YANG Suite. If you need to change this, this can be done through the
NETCONF “Options” dialog.</p>
<img alt="Screenshot showing the menu containing the Options item." src="../_images/menu-options.png" />
<p>Enter the location of
the directory you want to point to and click on the “Set” button. Click on
the “Reset” button to move it back to the default location.</p>
<img alt="Screenshot showing Replay Directory setting." src="../_images/replay-dir.png" />
<div class="section" id="creating-replays">
<h2>Creating Replays<a class="headerlink" href="#creating-replays" title="Permalink to this headline">¶</a></h2>
<p>To create a replay, let us follow the same steps as in the “Using Netconf RPCs”
documentation. I will go ahead and load the “ietf-interfaces” model,
and change the datastore to “running” and select the “get-config”.
Click on the “Build RPC” button to create the RPC you want to save as a replay.</p>
<p>Next, I select “Save as New Replay…” from the “Replays” menu, which opens
a dialog asking me to provide descriptive information for this replay.</p>
<img alt="Screenshot showing the menu containing the Save As item." src="../_images/menu-save-as.png" />
<img alt="Screenshot showing a dialog box with the replay information to be saved" src="../_images/create-task.png" />
<p>Once the replay is saved, you will get a confirmation pop-up.
The replay category and replay name dropdowns will also
be automatically populated with the replay that you created.</p>
<img alt="Screenshot of pop up box confirming that the replay has been saved" src="../_images/save-task.png" />
</div>
<div class="section" id="saving-replays-with-variables">
<h2>Saving Replays with Variables<a class="headerlink" href="#saving-replays-with-variables" title="Permalink to this headline">¶</a></h2>
<p>In order to make the replay more portable, you may want to define variables
rather than fixed values for some leaves. A very common example is interface
names and numbers; for example, the test device you developed the replay on
used the replay to configure interface GigabitEthernet2, but you want to be able
to use this replay on another Cisco device which instead needs to configure
interface GigabitEthernet0/1/2. The solution here is variables! A variable
can be referenced by using the syntax <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">variable_name</span> <span class="pre">}}</span></code> anywhere in
an RPC; here, you might want to use <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">interface_1</span> <span class="pre">}}</span></code> as your variable.</p>
<img alt="Screenshot showing where to put {{ interface_1 }} in value field before saving" src="../_images/var-value.png" />
<p>Go ahead and save this replay. Later, when you load the replay, you will be
prompted to supply a value for this variable.</p>
<p>Because variable values are often device-specific (again, such as interface
identifiers), you can save variable values to each device profile, either by
using the device “Edit…” button in the main GUI, or by selecting
“Save Variables to Device” from the “Load Replay” dialog, as described below.</p>
<img alt="Screenshot showing variable names and values defined in a device profile." src="../_images/add-var.png" />
</div>
<div class="section" id="loading-and-editing-saved-replays">
<h2>Loading and Editing Saved Replays<a class="headerlink" href="#loading-and-editing-saved-replays" title="Permalink to this headline">¶</a></h2>
<p>To see a saved replay later, select the “Load Replay” menu item,
select the category and name from the dropdowns in the resulting dialog,
then click on “Show Replay” to see the saved RPCs loaded and displayed.</p>
<img alt="Screenshot showing the menu containing the &quot;Load Replay&quot; item." src="../_images/menu-load-replay.png" />
<img alt="Screenshot showing the dialog that opens to select the desired replay." src="../_images/show-task.png" />
<p>Note that if this replay contains variables, this dialog will list the variables
defined in this replay and prompt you to input values for these variables. If
your selected device profile has defined values, they will be displayed here as
the default values for these variables. You can edit the values as needed, and
use the “Save Variables to Device” button to save them as the new
device-specific default values.</p>
<p>When done, click “Show Replay” button in order to load it into the UI. Note that
the tree-grid on the left side of the UI will still show the actual variable
name, while the RPC XML on the right side will make use of the variable values.</p>
<img alt="Screenshot showing that the UI has been populated with the replay contents." src="../_images/replay-loaded.png" />
<p>Once you have loaded a replay into the UI, you can use the
“Edit Replay Information…” menu item to change the properties of this replay
(such as its description, list of devices tested, etc.).</p>
<p>You can also click “Clear RPC(s)”, build new RPCs using the usual interface,
and then select the “Save Changes” menu item in order to update the
existing replay file with new RPC contents.</p>
</div>
<div class="section" id="running-replays">
<h2>Running Replays<a class="headerlink" href="#running-replays" title="Permalink to this headline">¶</a></h2>
<p>After loading a saved replay, you can use “Run RPC(s)” as usual to run the
replay RPCs. Alternatively, as a shortcut, from the “Load Replay” dialog,
you can click on “Run Replay” to run the replay directly without needing
to load it into the UI.</p>
<p>In either case you will see a pop-up window that displays the RPC communication and
the response from the device.</p>
<img alt="Screenshot showing the new window where the RPC results are displayed" src="../_images/run-task.png" />
<p>You can use the “Delete Replay” button to remove the replay from the list.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lock-unlock.html" class="btn btn-neutral float-right" title="Locking and unlocking datastores" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="notifications.html" class="btn btn-neutral" title="Working with NETCONF Notification Streams" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, YANG Suite development team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.15.1.post0.dev1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>